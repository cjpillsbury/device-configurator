{"version":3,"file":"spanning-css-polyfill.js","sources":["../node_modules/spanning-css-polyfill/build/spanning-css-polyfill.js"],"sourcesContent":["var e=\"spanning\",n=\"single-fold-horizontal\",t=\"single-fold-vertical\",o=\"none\",r=\"fold-top\",i=\"fold-left\",a=\"fold-height\",d=\"fold-width\",l=\"__foldables_env_vars__\",c=\"(@media.*?\\\\b\"+e+\"\\\\b[^{]+)\\\\{([\\\\s\\\\S]+?\\\\})\\\\s*\\\\}\",u=/\\((.*?)\\)/gi,f=/@media[^\\(]+/gi,s=function(e){return new RegExp(\"env\\\\(\\\\s*\"+e+\"\\\\s*\\\\)\",\"gi\")};function h(e,n){return e.replace(new RegExp(c,\"gi\"),n)}function p(r){var i=function(e){var n,t=new RegExp(c,\"gi\");if(\"function\"==typeof e.matchAll)n=Array.from(e.matchAll(t));else{for(n=[];n[n.length]=t.exec(e););n.length--}return n}(r),a={};return a[n]=\"\",a[t]=\"\",a[o]=\"\",i.forEach(function(r){var i=r[1],d=r[2],l=o;i.indexOf(n)>-1&&(l=n),i.indexOf(t)>-1&&(l=t);var c=i.match(f)||[],s=i.match(u)||[];s=s.filter(function(n){return!n.includes(e)}).join(\" and \"),a[l]+=\"\\n      \"+c+\" \"+s+\" {\\n        \"+d+\"\\n      }\"}),a}function w(e,n){var t;return function(){var o=arguments,r=this;clearTimeout(t),t=setTimeout(function(){return e.apply(r,o)},n)}}if(void 0===window[l]){var g=sessionStorage.getItem(l+\"-spanning\")||o,m=+sessionStorage.getItem(l+\"-foldSize\")||0,v=+sessionStorage.getItem(l+\"-browserShellSize\")||0;Object.defineProperty(window,l,{value:{spanning:g,foldSize:m,browserShellSize:v,update:A,onupdate:[x]}}),window.addEventListener(\"message\",function(e){\"update\"===(e.data.action||\"\")&&window[l].update(e.data.value||{})})}else window[l].onupdate.push(x);var S,y=Array.from(document.querySelectorAll('link[rel=\"stylesheet\"], style')),E={};function b(e,r){var i,a=h(r,\"\"),d=p(r);return E[e]=((i={})[n]=\"\",i[t]=\"\",i[o]=\"\",i),Object.keys(d).forEach(function(n){void 0!==E[e][n]&&(E[e][n]+=\"\\n        /* origin: \"+e+\" */\\n        \"+d[n])}),E[e][\"non-spanning\"]=a,a}function z(e){x(e),window.addEventListener(\"resize\",function(){return w(x(e),150)}),window[l].onupdate.push(function(){return x(e)})}function x(e){e?Array.from(e.shadowRoot.querySelectorAll(\".\"+l)).forEach(function(e){return e.parentNode.removeChild(e)}):Array.from(document.querySelectorAll(\".\"+l)).forEach(function(e){return e.parentElement.removeChild(e)});var o=window[l],c=e?E[e.nodeName.toLowerCase()][o.spanning]:E[o.spanning],u=e?E[e.nodeName.toLowerCase()][\"non-spanning\"]:null,f=function(e){var o,l=0,c=0,u=0,f=0;return e.spanning===t&&(u=e.foldSize,f=window.innerHeight,l=window.innerWidth/2-e.foldSize/2),e.spanning===n&&(u=window.innerWidth,f=e.foldSize,c=(window.innerHeight-e.browserShellSize)/2-e.foldSize/2),(o={})[r]=c,o[i]=l,o[a]=f,o[d]=u,o}(o);Object.keys(f).forEach(function(e){var n;n=f[e]+\"px\",c=c.replace(s(e),n)});var h=document.createElement(\"style\");if(h.className=l,h.textContent=c,e){var p=e.shadowRoot;\"adoptedStyleSheets\"in p&&p.adoptedStyleSheets.length>0?p.adoptedStyleSheets[0].replace(u+c):p.appendChild(h)}else document.head.appendChild(h)}E[n]=\"\",E[t]=\"\",E[o]=\"\",(S=y,Promise.all(S.map(function(e){var n=e.href;return n?fetch(n).then(function(e){return e.text()}):e.textContent}))).then(function(e){var n=new DocumentFragment;e.forEach(function(e,t){var o,r,i,a=h(e,\"\"),d=p(e),l=y[t].href||\"inline\";Object.keys(d).forEach(function(e){void 0!==E[e]&&(E[e]+=\"\\n          /* origin:  \"+l+\" */\\n          \"+d[e])}),n.appendChild((o={\"data-css-origin\":l},r=a,i=document.createElement(\"style\"),Object.keys(o).forEach(function(e){i.setAttribute(e,o[e])}),void 0!==r&&(i.textContent=r),i))}),y.forEach(function(e){return e.parentElement.removeChild(e)}),document.head.appendChild(n),x(),window.addEventListener(\"resize\",function(){return w(x,150)})});var C=new Set([\"foldSize\",\"browserShellSize\",\"spanning\"]);function A(e){Object.keys(e).forEach(function(n){C.has(n)&&(window[l][n]=e[n],sessionStorage.setItem(l+\"-\"+n,window[l][n]))}),window[l].onupdate.forEach(function(e){return e()})}export{b as adjustCSS,z as observe,A as update};\n//# sourceMappingURL=spanning-css-polyfill.js.map\n"],"names":["e","n","t","o","l","c","u","f","h","replace","RegExp","p","r","i","matchAll","Array","from","length","exec","a","single-fold-horizontal","single-fold-vertical","none","forEach","d","indexOf","match","s","filter","includes","join","w","arguments","this","clearTimeout","setTimeout","apply","window","g","sessionStorage","getItem","m","v","Object","defineProperty","value","spanning","foldSize","browserShellSize","update","A","onupdate","x","addEventListener","data","action","push","S","y","document","querySelectorAll","E","b","keys","z","shadowRoot","parentNode","removeChild","parentElement","nodeName","toLowerCase","innerHeight","innerWidth","createElement","className","textContent","adoptedStyleSheets","appendChild","head","Promise","all","map","href","fetch","then","text","DocumentFragment","data-css-origin","setAttribute","C","Set","has","setItem"],"mappings":"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"}